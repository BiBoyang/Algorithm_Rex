# èºæ—‹çŸ©é˜µä¸‰è¿
èºæ—‹çŸ©é˜µæ˜¯å‡ é“é¢˜æ˜¯å¾ˆæœ‰è¶£çš„é¢˜ï¼Œè€ƒå¯Ÿç¨‹åºå‘˜å¯¹äºè¾¹ç•Œçš„å¤„ç†å’Œæ•æ„Ÿåº¦ã€‚
æ€è·¯å¾ˆå¥½è§£å†³ï¼Œä½†æ˜¯å¦‚æœè¦çœŸæ­£çš„å†™å‡ºæ— bugçš„ä»£ç å®é™…ä¸Šè¿˜æ˜¯æœ‰ç‚¹éš¾åº¦--è¿™ä¸ªéš¾åº¦åœ¨äºè¾¹ç•Œçš„å¤„ç†ï¼Œæˆ‘æœ€å¼€å§‹è§£å†³é—®é¢˜çš„æ—¶å€™ï¼Œä¼ªä»£ç ä¸€ä¸‹å†™äº†å‡ºæ¥ï¼Œä½†æ˜¯çœŸæ­£è¿è¡Œæ²¡é—®é¢˜çš„ä»£ç å´å†™äº†å¾ˆé•¿æ—¶é—´ã€‚å°¤å…¶æ˜¯ç¬¬ä¸‰é¢˜ï¼Œç®€ç›´æ˜¯ä¸€ç§æŠ˜ç£¨ã€‚

å…ˆçœ‹ç¬¬ä¸€é“èºæ—‹çŸ©é˜µï¼ˆä¸€ï¼‰ã€‚

## èºæ—‹çŸ©é˜µï¼ˆä¸€ï¼‰
ç»™å®šä¸€ä¸ªåŒ…å« m x n ä¸ªå…ƒç´ çš„çŸ©é˜µï¼ˆm è¡Œ, n åˆ—ï¼‰ï¼Œè¯·æŒ‰ç…§é¡ºæ—¶é’ˆèºæ—‹é¡ºåºï¼Œè¿”å›çŸ©é˜µä¸­çš„æ‰€æœ‰å…ƒç´ ã€‚

ç¤ºä¾‹ 1:

> **è¾“å…¥:**
[
 [ 1, 2, 3 ],
 [ 4, 5, 6 ],
 [ 7, 8, 9 ]
]
**è¾“å‡º:** [1,2,3,6,9,8,7,4,5]

ç¤ºä¾‹ 2:

> **è¾“å…¥:**
[
  [1, 2, 3, 4],
  [5, 6, 7, 8],
  [9,10,11,12]
]
**è¾“å‡º:** [1,2,3,4,8,12,11,10,9,5,6,7]

### è§£ç­”æ€è·¯ï¼š
æ˜ç¡®ä¸€ä¸‹æ€è·¯ï¼Œæˆ‘ä»¬æ˜¯è¦èºæ—‹çš„é¡ºæ—¶é’ˆçš„è®¿é—®å…ƒç´ ã€‚
![](https://github.com/BiBoyang/Algorithm_Rex/blob/master/Image/luoxuan_01.png?raw=true)

è¿™ä¸ªå›¾çœ‹èµ·æ¥è¿˜æ˜¯æœ‰ç‚¹è¿·ç³Šï¼Œæˆ‘ä»¬æŠŠæ¯ä¸ªç‚¹çš„åæ ‡ç”»å‡ºæ¥ï¼Œå°±æ›´åŠ æ˜ç™½äº†ã€‚
![](https://github.com/BiBoyang/Algorithm_Rex/blob/master/Image/luoxuan_02.png?raw=true)

é¦–å…ˆï¼Œæˆ‘ä»¬ä¸€å®šè¦æ˜ç¡®æ¯ä¸€æ­¥çš„ä¸Šä¸‹å·¦å³è¾¹ç•Œã€‚

ç„¶åé¦–å…ˆåœ¨ç¬¬ä¸€è¡Œå‘å³å¼€å§‹éå†ï¼Œåˆ°äº†æœ€å³ä¹‹åï¼Œå°±ä»ä¸Šè€Œä¸‹ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬è¦æŠŠèµ·å§‹é«˜åº¦å˜ä¸ºè¿™ä¸€è¡Œçš„é«˜åº¦ï¼›ä¾æ¬¡ç±»æ¨ã€‚
æ³¨æ„ï¼Œæˆ‘ä»¬çš„è¾¹ç•Œæ¡ä»¶æœ‰å››ç§
> * 1.ä»ä¸Šè¾¹ç•Œå¼€å§‹çš„è¾¹ç•Œ**up**å¤§äºä¸‹è¾¹ç•Œ**down**ï¼›
> * 2.ä»å³è¾¹ç•Œå¼€å§‹çš„è¾¹ç•Œ**right**å°äºå·¦è¾¹ç•Œ**left**ï¼›
> * 3.ä»ä¸‹è¾¹ç•Œå¼€å§‹çš„è¾¹ç•Œ**down**å°äºä¸Šè¾¹ç•Œ**up**ï¼›
> * 4.ä»å·¦è¾¹ç•Œå¼€å§‹çš„è¾¹ç•Œ**left**å¤§äºå³è¾¹ç•Œ**right**ï¼›


ä»£ç æ¼”ç¤ºå¦‚ä¸‹ï¼š
```C++
class Solution {
public:
    vector<int> spiralOrder(vector<vector<int>>& matrix) {
        if (matrix.empty() || matrix[0].empty()) {
            return {};
        }
        int height = matrix.size(), width = matrix[0].size();
        vector<int> res;
        int up = 0, down = height - 1, left = 0, right = width - 1;
        
        while (true) {
            //ä»å·¦å¾€å³
            for(int i = left;i<=right;i++) {
               res.push_back(matrix[up][i]);
            }
            //ä¸Šé¢å¤§äºä¸‹é¢
            up++;
            if(up > down)break;
            
            //ä»å³ä¸Šå¾€å³ä¸‹
            for(int i=up;i<=down;i++) {
                res.push_back(matrix[i][right]);
            }
            //å³è¾¹å°äºå·¦è¾¹
            right--;
            if(right < left) break;
            
            //ä»å³ä¸‹å¾€å·¦ä¸‹
            for(int i=right;i>=left;i--) {
                res.push_back(matrix[down][i]);
            }
            //ä¸‹è¾¹å°äºä¸Šé¢
            down--;
            if(down < up) break;
            
            //ä»å·¦ä¸‹å¾€å·¦ä¸Š
            for(int i=down;i>=up;i--) {
                res.push_back(matrix[i][left]);
            }
            //å·¦è¾¹è¶…è¿‡äº†å³è¾¹
            left++;
            if(left > right)break;
        }
        return res;
    }
};
```

## èºæ—‹çŸ©é˜µï¼ˆäºŒï¼‰
ç»™å®šä¸€ä¸ªæ­£æ•´æ•° nï¼Œç”Ÿæˆä¸€ä¸ªåŒ…å« 1 åˆ° n2 æ‰€æœ‰å…ƒç´ ï¼Œä¸”å…ƒç´ æŒ‰é¡ºæ—¶é’ˆé¡ºåºèºæ—‹æ’åˆ—çš„æ­£æ–¹å½¢çŸ©é˜µã€‚

ç¤ºä¾‹:

> **è¾“å…¥**: 3
**è¾“å‡º**:
[
 [ 1, 2, 3 ],
 [ 8, 9, 4 ],
 [ 7, 6, 5 ]
]

### è§£ç­”æ€è·¯ï¼š
è¿™é“é¢˜å®é™…ä¸Šå’Œä¸Šä¸€é“é¢˜éå¸¸çš„æƒ³è±¡ã€‚
ä¸Šä¸€é“é¢˜æ˜¯èºæ—‹çš„è¾“å‡ºæ•°å­—ï¼Œè€Œè¿™ä¸ªæ˜¯ä¸åœçš„è¾“å…¥æ•°å­—ã€‚
å¾ˆå¤šä»£ç ç”šè‡³èƒ½ç›´æ¥ä»ä¸Šä¸€é¢˜å¥—ç”¨è¿‡æ¥ã€‚
```C++
class Solution {
public:
    vector<vector<int>> generateMatrix(int n) {
        if(n==0) {
            return vector<vector<int>>();
        }
        vector<vector<int>> mat(n,vector<int>(n,0));

        int up=0,down = n-1,left = 0,right = n-1;
        int k = 0;
        
        int num = 1, target = n * n;
        while(num <= target){
            //left-->right 
            for(int i = left; i <= right; i++) {
                mat[up][i] = num++; // left to right.
            }
            up++;
            //up-->down
            for(int i = up; i <= down; i++) {
                mat[i][right] = num++; // top to bottom.
            }
            right--;
            //right-->left
            for(int i = right; i >= left; i--) {
                mat[down][i] = num++; // right to left.
            }
            down--;
            //down-->up
            for(int i = down; i >= up; i--) {
                mat[i][left] = num++; // bottom to top.
            }
            left++;
        }
        return mat;
    }
};
```

## èºæ—‹çŸ©é˜µï¼ˆä¸‰ï¼‰
åœ¨ R è¡Œ C åˆ—çš„çŸ©é˜µä¸Šï¼Œæˆ‘ä»¬ä» `(r0, c0)` é¢æœä¸œé¢å¼€å§‹ã€‚
è¿™é‡Œï¼Œç½‘æ ¼çš„è¥¿åŒ—è§’ä½äºç¬¬ä¸€è¡Œç¬¬ä¸€åˆ—ï¼Œç½‘æ ¼çš„ä¸œå—è§’ä½äºæœ€åä¸€è¡Œæœ€åä¸€åˆ—ã€‚
ç°åœ¨ï¼Œæˆ‘ä»¬ä»¥é¡ºæ—¶é’ˆæŒ‰èºæ—‹çŠ¶è¡Œèµ°ï¼Œè®¿é—®æ­¤ç½‘æ ¼ä¸­çš„æ¯ä¸ªä½ç½®ã€‚
æ¯å½“æˆ‘ä»¬ç§»åŠ¨åˆ°ç½‘æ ¼çš„è¾¹ç•Œä¹‹å¤–æ—¶ï¼Œæˆ‘ä»¬ä¼šç»§ç»­åœ¨ç½‘æ ¼ä¹‹å¤–è¡Œèµ°ï¼ˆä½†ç¨åå¯èƒ½ä¼šè¿”å›åˆ°ç½‘æ ¼è¾¹ç•Œï¼‰ã€‚
æœ€ç»ˆï¼Œæˆ‘ä»¬åˆ°è¿‡ç½‘æ ¼çš„æ‰€æœ‰ R * C ä¸ªç©ºé—´ã€‚
æŒ‰ç…§è®¿é—®é¡ºåºè¿”å›è¡¨ç¤ºç½‘æ ¼ä½ç½®çš„åæ ‡åˆ—è¡¨

**ç¤ºä¾‹ 1ï¼š**
> è¾“å…¥ï¼šR = 1, C = 4, r0 = 0, c0 = 0
è¾“å‡ºï¼š[[0,0],[0,1],[0,2],[0,3]]
![](https://aliyun-lc-upload.oss-cn-hangzhou.aliyuncs.com/aliyun-lc-upload/uploads/2018/08/24/example_1.png)



**ç¤ºä¾‹ 2ï¼š**
> è¾“å…¥ï¼šR = 5, C = 6, r0 = 1, c0 = 4
è¾“å‡ºï¼š[[1,4],[1,5],[2,5],[2,4],[2,3],[1,3],[0,3],[0,4],[0,5],[3,5],[3,4],[3,3],[3,2],[2,2],[1,2],[0,2],[4,5],[4,4],[4,3],[4,2],[4,1],[3,1],[2,1],[1,1],[0,1],[4,0],[3,0],[2,0],[1,0],[0,0]]
![](https://aliyun-lc-upload.oss-cn-hangzhou.aliyuncs.com/aliyun-lc-upload/uploads/2018/08/24/example_2.png)

#### è§£ç­”æ€è·¯

æˆ‘åˆšåˆšçœ‹åˆ°è¿™é“é¢˜çš„æ—¶å€™ï¼Œæˆ‘èŠ±äº†äº”åˆ†é’Ÿæ²¡æœ‰è¯»æ‡‚é¢˜ã€‚ğŸ˜“
ç„¶åæˆ‘å¯¹ç€ç¤ºä¾‹äºŒçš„å›¾ç”»äº†å¥½ä¸€é˜µï¼Œæ‰å¤§æ¦‚æ˜ç™½é¢˜æ„ã€‚æˆ‘ä¼°è®¡é¢è¯•æ˜¯è‚¯å®šä¸ä¼šå‡ºè¿™ç§é¢˜çš„ï¼Œä¼°è®¡å…‰çœ‹é¢˜å°±èƒ½ç»•æ­»ä¸€å †äººã€‚



è¿™é“é¢˜çš„æ€è·¯åœ¨äºï¼Œè¦å…ˆå¿½ç•¥æ˜¯å¦åœ¨ç½‘æ ¼ä¹‹ä¸­ã€‚å…ˆå»è¿›è¡Œé¡ºæ—¶é’ˆçš„èºæ—‹å½¢çŠ¶è¡Œèµ°ï¼Œç„¶ååœ¨ç»“æœä¸­åˆ¤æ–­æ˜¯å¦åœ¨ç½‘æ ¼ä¸­ã€‚

è¿™é“é¢˜çš„ä»£ç é‡å¾ˆå¤§ï¼Œè€Œä¸”å¤„å¤„éƒ½ä¼šå‡ºé”™ï¼Œæˆ‘æœ€å¼€å§‹å³ä½¿åœ¨é¢†ä¼šäº†æ€è·¯çš„å‰æä¸‹ï¼Œä¾ç„¶èŠ±äº†å¾ˆé•¿çš„æ—¶é—´æ‰å†™å‡ºä»£ç ã€‚
> * åä¸ªæ§½ï¼Œè¿™é“é¢˜å³ä½¿å†ç»™æˆ‘å‡ºï¼Œæˆ‘ä¼°è®¡ä¹Ÿå¾ˆéš¾åœ¨çŸ­æ—¶é—´å†…å†™å‡ºbugfreeçš„ä»£ç ã€‚

```C++
class Solution {
public:
    vector<vector<int>> spiralMatrixIII(int R, int C, int r0, int c0) {
        /*å·²ç»è¿‡çš„ä¸ªæ•°*/
        int num = 1;
        vector<vector<int>> p;
        vector<int> temp(2);
        temp[0] = r0;
        temp[1] = c0;
        p.push_back(temp);
        /*ç§»åŠ¨æ­¥é•¿*/
        int step = 1;
        while(num < R * C) {
            /*æœä¸œèµ°*/
            int n = 1;
            while(n <= step) {
                c0++;
                if(Judge(r0, c0, R, C))
                {
                    temp[0] = r0;
                    temp[1] = c0;
                    p.push_back(temp);
                    num++;
                }
                n++;
            }
        
            /*æœå—èµ°*/
            n = 1;
            while(n <= step) {
                r0++;
                if(Judge(r0, c0, R, C)) {
                    temp[0] = r0;
                    temp[1] = c0;
                    p.push_back(temp);
                    num++;
                }
                n++;
            }
        
            /*æ­¥é•¿åŠ 1*/
            step++;
        
            /*æœè¥¿èµ°*/
            n = 1;
            while(n <= step) {
                c0--;
                if(Judge(r0, c0, R, C)) {
                    temp[0] = r0;
                    temp[1] = c0;
                    p.push_back(temp);
                    num++;
                }
                n++;
            }
        
            /*æœåŒ—èµ°*/
            n = 1;
            while(n <= step) {
                r0--;
                if(Judge(r0, c0, R, C)) {
                    temp[0] = r0;
                    temp[1] = c0;
                    p.push_back(temp);
                    num++;
                }
                n++;
            }
            /*æ­¥é•¿åŠ 1*/
            step++;
        }
        return p;    
    }
        /*åˆ¤æ–­æ˜¯å¦åœ¨è§„å®šåŒºåŸŸå†…*/
    bool Judge(int x, int y, int r, int c) {
        if(x >= 0 && y >=0 && x < r && y < c) {
            return true;
        } else {
            return false;
        }        
    }
};
```